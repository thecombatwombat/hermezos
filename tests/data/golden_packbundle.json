{
  "pack_request": {
    "path": "/test/project",
    "intent_tags": ["best-practice"],
    "languages": ["kotlin"],
    "limit": 10,
    "include_deprecated": false
  },
  "rules": [
    {
      "rule": {
        "schema_version": 1,
        "id": "RULE-android-plugins-dsl",
        "name": "Prefer Plugins DSL",
        "version": 1,
        "status": "active",
        "severity": "warning",
        "domain": "android",
        "intent_tags": [
          "gradle",
          "best-practice",
          "modernization"
        ],
        "scope": {
          "repo_patterns": [],
          "file_globs": [
            "*.gradle",
            "*.gradle.kts"
          ],
          "languages": [
            "kotlin",
            "groovy"
          ]
        },
        "triggers": [
          {
            "type": "path_contains",
            "value": ".gradle"
          }
        ],
        "detectors": [
          {
            "type": "regex",
            "pattern": "apply\\s+plugin:\\s*['\"]\\w+['\"]",
            "file_glob": "*.gradle"
          },
          {
            "type": "regex",
            "pattern": "apply\\s*\\(\\s*plugin\\s*:\\s*['\"]\\w+['\"]\\s*\\)",
            "file_glob": "*.gradle"
          }
        ],
        "action": {
          "type": "manual",
          "steps": [
            "Replace 'apply plugin: \"com.android.application\"' with 'plugins { id \"com.android.application\" }'",
            "Replace 'apply plugin: \"kotlin-android\"' with 'plugins { id \"org.jetbrains.kotlin.android\" }'",
            "Update version catalogs or build files to use the plugins DSL consistently",
            "Test the build after migration to ensure all plugins are properly applied"
          ]
        },
        "hint": "Use the plugins DSL instead of the legacy apply plugin syntax for better Gradle performance and maintainability",
        "retriable": false,
        "references": [
          {
            "doc_url": "./docs/android/gradle_plugins.md",
            "note": "Detailed guide on migrating to plugins DSL"
          },
          {
            "doc_url": "https://docs.gradle.org/current/userguide/plugins.html#sec:plugins_dsl",
            "note": "Official Gradle documentation on plugins DSL"
          }
        ],
        "provenance": {
          "author": "HermezOS Team",
          "created": "2024-01-15T10:00:00Z",
          "last_updated": "2024-01-15T10:00:00Z"
        }
      },
      "fingerprint": "abc123def456ghi789jkl012mno345pqr678stu901vwx345yz",
      "triggered_by": [
        "path contains '.gradle'"
      ],
      "detected_in": [
        "build.gradle"
      ]
    }
  ],
  "pack_fingerprint": "pack789xyz123abc456def789ghi012jkl345mno678pqr901stu",
  "created_at": "2024-01-15T10:00:00Z",
  "total_rules": 1
}